\section{Introduction}

The \commonlisp{} standard \cite{ansi:common:lisp} contains many
references to environments.  Most of these references concern
\emph{lexical} environments at \emph{compile time}, because they are
needed in order to process forms in non-null lexical environments.
The standard does not specify the nature of these objects, though in
the book ``Common Lisp, the Language, second edition''
\cite{Steele:1990:CLL:95411} (henceforth referred to as ``CLtL2'')
there is a suggested protocol that is sometimes supplied by existing
\commonlisp{} implementations.

The protocol documented in CLtL2 has several problems.  Functions in
the protocol return multiple values, which makes it hard to extend.
Furthermore, the protocol is incomplete.  A typical compiler needs
more information than the protocol provides, making
implementation-specific extensions obligatory for the protocol to be
useful.  For that reason, although existing \commonlisp{}
implementations often provide this functionality, it is not what the
native compiler of the implementation actually uses.

In this paper, we propose a modern alternative protocol based on
\clos{}.  Rather than returning multiple values, our protocol
functions return instances of standard classes.  Accessors for those
instances can be used by compilers and other \emph{code walker}
applications in order to obtain the information needed for the task to
be accomplished.


%%  LocalWords:  startup runtime
